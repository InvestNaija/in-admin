<div class="container-fluid p-4">
  <div class="row">
    <div class="col-12">
      <div class="page-title">
        <h1>Courses</h1>
        <a [routerLink]="['add']" class="add-course" mat-flat-button>Add New Course</a>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-12">
      <nav mat-tab-nav-bar>
        <a mat-tab-link (click)="applyFilter('all')" [active]="activeLink == 'all'"> All </a>
        <a mat-tab-link (click)="applyFilter('approved')" [active]="activeLink == 'approved'"> Approved </a>
        <a mat-tab-link (click)="applyFilter('unapproved')" [active]="activeLink == 'unapproved'"> Unapproved </a>
      </nav>
      <div class="dashboard-table">
        <table mat-table [dataSource]="dataSource" fixedLayout="false" class="leaderboard-table">

          <ng-container matColumnDef="course">
            <th mat-header-cell *matHeaderCellDef>Course</th>
            <td mat-cell *matCellDef="let element"> {{element.title}} </td>
          </ng-container>

          <ng-container matColumnDef="category">
            <th mat-header-cell *matHeaderCellDef>Category</th>
            <td mat-cell *matCellDef="let element"> {{element.category?.title}} </td>
          </ng-container>

          <ng-container matColumnDef="courseFee">
            <th mat-header-cell *matHeaderCellDef>Course Fee</th>
            <td mat-cell *matCellDef="let element"> {{element.course_fee}} </td>
          </ng-container>

          <ng-container matColumnDef="level">
            <th mat-header-cell *matHeaderCellDef>Difficulty Level</th>
            <td mat-cell *matCellDef="let element"> {{element.level}} </td>
          </ng-container>

          <ng-container matColumnDef="published">
            <th mat-header-cell *matHeaderCellDef>Published Date</th>
            <td mat-cell *matCellDef="let element"> {{element.publish_date | date}} </td>
          </ng-container>

          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef>Status</th>
            <td mat-cell *matCellDef="let element" class="{{element.status | lowercase}}"> {{element.status}} </td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef>Action</th>
            <td mat-cell *matCellDef="let element">
              <span class="header-menu">
                <button mat-icon-button [matMenuTriggerFor]="historylistmenu">
                  <mat-icon>more_vert</mat-icon>
                </button>
                <mat-menu #historylistmenu="matMenu">
                  <a [routerLink]="['edit', element.id]" mat-menu-item><mat-icon>drive_file_rename_outline</mat-icon> Edit Course</a>
                  <a [routerLink]="['view', element.id]" mat-menu-item><mat-icon>visibility</mat-icon> View Course</a>
                  <a mat-menu-item><mat-icon>delete</mat-icon> Delete Course</a>
                </mat-menu>
              </span>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <!-- <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator> -->
        <mat-paginator [length]="total_count" [pageSize]="pageSize"></mat-paginator>
      </div>
    </div>
  </div>
</div>
