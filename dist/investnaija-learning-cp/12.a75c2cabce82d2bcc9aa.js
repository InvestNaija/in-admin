(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{h5lc:function(r,i,e){"use strict";e.r(i),e.d(i,"InlWebsiteModule",function(){return qr});var t=e("ofXK"),s=e("fXoL"),o=e("FKr1");e("8LU1"),e("cH1L");let n=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=s.Mb({type:r}),r.\u0275inj=s.Lb({imports:[[o.g,o.e],o.g,o.e]}),r})();var a=e("kmnG"),c=e("Xa2L"),b=e("tyNb"),l=e("4Ebo"),u=e("dLGn");let m=(()=>{class r{constructor(r,i,e,t){this.api=r,this.auth=i,this.authService=e,this.router=t}ngOnInit(){this.auth.isLoggedIn()&&this.router.navigate(["/dashboard"]),this.signupSub=this.authService.signUp().subscribe(r=>{})}onSubmit(r){this.api.post("/api/provider/forgot-password",{email:r.value.email},!1).subscribe(r=>{})}ngOnDestroy(){this.signupSub&&this.signupSub.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(s.Ob(l.a),s.Ob(u.a),s.Ob(u.a),s.Ob(b.c))},r.\u0275cmp=s.Ib({type:r,selectors:[["in-auth-account"]],decls:15,vars:0,consts:[[1,"row","h-100"],[1,"col-md-6"],[1,"container","h-100"],[1,"row","align-items-center","h-100"],[1,"col-md-12","text-center"],["src","/assets/images/login-logo.png","height","auto","width","500","alt","",1,"img-fluid"],[1,"container","h-100","p-3"],[1,"col-md-8","offset-md-2"],[1,"card","auth-card","font-weight-bolder"],[1,"card-body","p-4",2,"font-size","1em"]],template:function(r,i){1&r&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"div",4),s.Pb(5,"img",5),s.Ub(6,"p"),s.Fc(7,"...Delivering Results"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(8,"div",1),s.Ub(9,"div",6),s.Ub(10,"div",3),s.Ub(11,"div",7),s.Ub(12,"div",8),s.Ub(13,"div",9),s.Pb(14,"router-outlet"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb())},directives:[b.g],styles:[""]}),r})();var d=e("3Pt+"),h=e("PSD3"),p=e.n(h);const f={bvn:{required:"BVN is required"},dob:{required:"Date of birth is required"}};let g={bvn:"",dob:""};var v=e("DRsH");function y(r,i){1&r&&(s.Ub(0,"label",15),s.Fc(1,"BVN"),s.Tb())}function T(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.bvn)}}function U(r,i){1&r&&(s.Ub(0,"label",16),s.Fc(1,"Date of Birth"),s.Tb())}function w(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.bvn)}}function C(r,i){1&r&&(s.Ub(0,"span"),s.Fc(1,"Continue"),s.Tb())}function I(r,i){1&r&&s.Pb(0,"mat-spinner",17),2&r&&s.lc("diameter",30)}let E=(()=>{class r{constructor(r,i,e,t,s){this.fb=r,this.api=i,this.authService=e,this.commonServices=t,this.router=s,this.errors=[],this.formErrors=g,this.uiErrors=g,this.validationMessages=f,this.APIResponse=!1,this.submitting=!1}ngOnInit(){this.authService.isLoggedIn()&&this.router.navigate(["/dashboard"]),this.myForm=this.fb.group({bvn:["",d.s.required],dob:["",d.s.required]})}controlChanged(r){this.errors=this.commonServices.controlnvalid(this.myForm.get(r)),this.displayErrors()}onSubmit(){if(this.APIResponse=!0,this.submitting=!0,this.myForm.invalid)return this.uiErrors=JSON.parse(JSON.stringify(this.formErrors)),this.errors=this.commonServices.findInvalidControlsRecursive(this.myForm),this.displayErrors(),this.APIResponse=!1,void(this.submitting=!1);const r=JSON.parse(JSON.stringify(this.myForm.value));this.api.post("/api/v1/verifications/bvn",r,!1).subscribe(r=>{this.APIResponse=!1,this.submitting=!1,this.authService.signup$.next(r.data),this.router.navigate(["/auth/signup-continue"])},r=>{var i,e;this.APIResponse=!1,this.submitting=!1,p.a.fire("Oops...",503===(null==r?void 0:r.status)?"Service is currently unavailable. Please try again later":null===(e=null===(i=null==r?void 0:r.error)||void 0===i?void 0:i.error)||void 0===e?void 0:e.message,"error")})}displayErrors(){Object.keys(this.formErrors).forEach(r=>{this.formErrors[r]=""}),Object.keys(this.errors).forEach(r=>{Object.keys(this.errors[r]).forEach(i=>{this.uiErrors[r]=f[r][i]})})}}return r.\u0275fac=function(i){return new(i||r)(s.Ob(d.e),s.Ob(l.a),s.Ob(u.a),s.Ob(v.a),s.Ob(b.c))},r.\u0275cmp=s.Ib({type:r,selectors:[["in-inl-signup"]],decls:25,vars:7,consts:[[1,"row","mb-3"],[1,"col-md-12"],["routerLink","/auth/login",1,"pull-right","text-primary"],[1,"row","mb-5"],[1,"text-muted","font-weight-bold"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email",4,"ngIf"],["id","email","formControlName","bvn","type","text","placeholder","BVN",1,"form-control",3,"keyup"],[4,"ngIf"],["for","dob",4,"ngIf"],["id","dob","formControlName","dob","type","date","placeholder","Date Of Birth",1,"form-control",3,"keyup"],["type","submit",1,"auth-button"],[3,"diameter",4,"ngIf"],["for","email"],["for","dob"],[3,"diameter"]],template:function(r,i){1&r&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"a",2),s.Fc(3," Login Instead > "),s.Tb(),s.Ub(4,"h1"),s.Fc(5,"Create Account"),s.Tb(),s.Tb(),s.Tb(),s.Ub(6,"div",3),s.Ub(7,"div",1),s.Ub(8,"span",4),s.Fc(9,"Sign up with your BVN to help you get started"),s.Tb(),s.Tb(),s.Tb(),s.Ub(10,"div",5),s.Ub(11,"div",1),s.Ub(12,"form",6),s.bc("ngSubmit",function(){return i.onSubmit()}),s.Ub(13,"div",7),s.Dc(14,y,2,0,"label",8),s.Ub(15,"input",9),s.bc("keyup",function(){return i.controlChanged("bvn")}),s.Tb(),s.Dc(16,T,2,1,"span",10),s.Tb(),s.Ub(17,"div",7),s.Dc(18,U,2,0,"label",11),s.Ub(19,"input",12),s.bc("keyup",function(){return i.controlChanged("dob")}),s.Tb(),s.Dc(20,w,2,1,"span",10),s.Tb(),s.Ub(21,"div",7),s.Ub(22,"button",13),s.Dc(23,C,2,0,"span",10),s.Dc(24,I,1,1,"mat-spinner",14),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&r&&(s.Cb(12),s.lc("formGroup",i.myForm),s.Cb(2),s.lc("ngIf",i.myForm.get("bvn").value),s.Cb(2),s.lc("ngIf",""!=i.uiErrors.bvn),s.Cb(2),s.lc("ngIf",i.myForm.get("dob").value),s.Cb(2),s.lc("ngIf",""!=i.uiErrors.bvn),s.Cb(3),s.lc("ngIf",!i.submitting),s.Cb(1),s.lc("ngIf",i.submitting))},directives:[b.e,d.t,d.n,d.h,t.n,d.c,d.m,d.f,c.b],styles:[""]}),r})();const S={firstName:{required:"Firstname is required"},lastName:{required:"Lastname is required"},gender:{required:"Gender is required"},phone:{required:"Phone is required"},birthdate:{required:"Date of Birt is required"},email:{required:"Email is required",email:"The email field must be a valid email"},bvn:{required:"BVN is required"},password:{required:"Password is required",minlength:"Must be minimum of 6 characters",oneDigit:"Must contain one digit",oneLowerCase:"Must contain one lowercase letter",oneUpperCase:"Must contain one uppercase letter"},confirmPassword:{required:"Confirm Password is required",mustMatch:"Password  and Confirm passord fields do not match"},accept:{requiredTrue:"Accept terms and conditions to proceed"}};let F={firstName:"",lastName:"",middleName:"",gender:"",phone:"",birthdate:"",email:"",bvn:"",address:"",signature:"",password:"",confirmPassword:"",accept:""};var P=e("ZOsW");function O(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.firstName)}}function N(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.lastName)}}function D(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.middleName)}}function q(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.birthdate)}}function k(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.gender)}}function R(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.phone)}}function x(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.address)}}function L(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.bvn)}}function A(r,i){1&r&&(s.Ub(0,"label",28),s.Fc(1,"Email"),s.Tb())}function G(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.email)}}function M(r,i){1&r&&(s.Ub(0,"label",29),s.Fc(1,"Password"),s.Tb())}function J(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.password)}}function j(r,i){1&r&&(s.Ub(0,"label",30),s.Fc(1,"Confirm Password"),s.Tb())}function V(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.confirmPassword)}}function B(r,i){1&r&&(s.Ub(0,"span"),s.Fc(1,"Continue"),s.Tb())}function Y(r,i){1&r&&s.Pb(0,"mat-spinner",31),2&r&&s.lc("diameter",30)}let K=(()=>{class r{constructor(r,i,e,t,s){this.fb=r,this.authService=i,this.commonServices=e,this.apiService=t,this.router=s,this.gender=[{id:"m",name:"Male"},{id:"f",name:"Female"}],this.errors=[],this.formErrors=F,this.uiErrors=F,this.validationMessages=S,this.container={},this.APIResponse=!1,this.submitting=!1}ngOnInit(){this.myForm=this.fb.group({firstName:["",d.s.required],lastName:[null,d.s.required],middleName:[null],gender:[null,d.s.required],phone:[null,d.s.required],birthdate:[null,d.s.required],email:[null,[d.s.required,d.s.pattern(this.commonServices.email)]],photo:[null],address:[null],nin:[null],bvn:[null,d.s.required],signature:[],password:[null,[d.s.required,d.s.minLength(6),this.commonServices.regexValidator(new RegExp(this.commonServices.oneDigit),{oneDigit:""}),this.commonServices.regexValidator(new RegExp(this.commonServices.oneLowerCase),{oneLowerCase:""}),this.commonServices.regexValidator(new RegExp(this.commonServices.oneUpperCase),{oneUpperCase:""})]],confirmPassword:[null,d.s.required],accept:[!1]},{validators:this.commonServices.mustMatch("password","confirmPassword")}),this.signupSub=this.authService.signUp().subscribe(r=>{r&&this.populateKYCDetail(r)})}populateKYCDetail(r){var i;let e=null==r?void 0:r.birthdate.split("-");const t=this.gender.find(i=>i.name===(null==r?void 0:r.gender));this.myForm.patchValue({firstName:null==r?void 0:r.firstname,lastName:null==r?void 0:r.lastname,middleName:null==r?void 0:r.middlename,gender:t,phone:null==r?void 0:r.phone,birthdate:e[2]+"-"+e[1]+"-"+e[0],email:null==r?void 0:r.email,photo:null==r?void 0:r.photo,address:null===(i=null==r?void 0:r.residence)||void 0===i?void 0:i.address1,nin:null==r?void 0:r.nin,bvn:null==r?void 0:r.bvn,signature:null==r?void 0:r.signature})}controlChanged(r){this.errors=this.commonServices.controlnvalid(this.myForm.get(r)),this.displayErrors()}onSubmit(){if(this.APIResponse=!1,this.submitting=!0,this.myForm.invalid)return this.uiErrors=JSON.parse(JSON.stringify(this.formErrors)),this.errors=this.commonServices.findInvalidControlsRecursive(this.myForm),this.displayErrors(),this.APIResponse=!0,void(this.submitting=!0);const r=JSON.parse(JSON.stringify(this.myForm.value));if(r.dob=r.birthdate,r.nin=Math.floor(1e10+9e10*Math.random()).toString(),r.gender=r.gender.name,delete r.photo,delete r.signature,!r.accept)return p.a.fire("","You need to accept the terms and conditions to proceed","warning"),this.APIResponse=!1,void(this.submitting=!1);this.apiService.post("/api/v1/auth/customers/signup",r,!1).subscribe(r=>{this.APIResponse=!1,this.submitting=!1,this.authService.signup$.next(r.data),p.a.fire("",null==r?void 0:r.message,"success"),setTimeout(()=>{this.router.navigate(["/auth/verify-otp"])},2e3)},r=>{var i,e;this.APIResponse=!1,this.submitting=!1,p.a.fire("Oops...",503===(null==r?void 0:r.status)?"Service is currently unavailable. Please try again later":null===(e=null===(i=null==r?void 0:r.error)||void 0===i?void 0:i.error)||void 0===e?void 0:e.message,"error")})}displayErrors(){Object.keys(this.formErrors).forEach(r=>{this.formErrors[r]=""}),Object.keys(this.errors).forEach(r=>{Object.keys(this.errors[r]).forEach(i=>{this.uiErrors[r]=S[r][i]})})}ngOnDestroy(){this.signupSub&&this.signupSub.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(s.Ob(d.e),s.Ob(u.a),s.Ob(v.a),s.Ob(l.a),s.Ob(b.c))},r.\u0275cmp=s.Ib({type:r,selectors:[["in-inl-signup-continue"]],decls:64,vars:18,consts:[[1,"row","mb-3"],[1,"col-md-12"],[1,"row","mb-5"],[1,"text-muted","font-weight-bold"],[1,"row"],[1,"course-form"],[3,"formGroup","ngSubmit"],[1,"col-md-6"],[1,"form-group"],["formControlName","firstName","type","text","placeholder","First Name","readonly","",1,"form-control"],[4,"ngIf"],["formControlName","lastName","type","text","placeholder","Surname","readonly","",1,"form-control"],["formControlName","middleName","type","text","placeholder","Middle Name","readonly","",1,"form-control"],["formControlName","birthdate","type","date","placeholder","Date Of Birth (mm/dd/yyyy)","readonly","",1,"form-control"],["placeholder","Gender","bindLabel","name","formControlName","gender",3,"items"],["formControlName","phone","type","text","placeholder","Phone",1,"form-control"],["formControlName","address","type","text","placeholder","Address Line 1",1,"form-control"],["formControlName","bvn","type","hidden","placeholder","BVN",1,"form-control"],["for","email",4,"ngIf"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],["for","password",4,"ngIf"],["id","password","formControlName","password","type","password","placeholder","Password",1,"form-control",3,"keyup"],["for","confirmPassword",4,"ngIf"],["id","confirmPassword","formControlName","confirmPassword","type","password","placeholder","Confirm Password",1,"form-control",3,"keyup"],["formControlName","accept","type","checkbox",1,"d-md-inline",2,"width","40px"],["href","https://funds.chapelhilldenham.com/terms-and-conditions/","target","_blank"],["type","submit",1,"auth-button"],[3,"diameter",4,"ngIf"],["for","email"],["for","password"],["for","confirmPassword"],[3,"diameter"]],template:function(r,i){if(1&r&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"h1"),s.Fc(3,"Create Account"),s.Tb(),s.Tb(),s.Tb(),s.Ub(4,"div",2),s.Ub(5,"div",1),s.Ub(6,"span",3),s.Fc(7,"Sign in with your email account and password"),s.Tb(),s.Tb(),s.Tb(),s.Ub(8,"div",4),s.Ub(9,"div",1),s.Ub(10,"div",5),s.Ub(11,"form",6),s.bc("ngSubmit",function(){return i.onSubmit()}),s.Ub(12,"div",4),s.Ub(13,"div",7),s.Ub(14,"div",8),s.Pb(15,"input",9),s.Dc(16,O,2,1,"span",10),s.Tb(),s.Tb(),s.Ub(17,"div",7),s.Ub(18,"div",8),s.Pb(19,"input",11),s.Dc(20,N,2,1,"span",10),s.Tb(),s.Tb(),s.Tb(),s.Ub(21,"div",8),s.Pb(22,"input",12),s.Dc(23,D,2,1,"span",10),s.Tb(),s.Ub(24,"div",4),s.Ub(25,"div",7),s.Ub(26,"div",8),s.Pb(27,"input",13),s.Dc(28,q,2,1,"span",10),s.Tb(),s.Tb(),s.Ub(29,"div",7),s.Ub(30,"div",8),s.Pb(31,"ng-select",14),s.Dc(32,k,2,1,"span",10),s.Tb(),s.Tb(),s.Tb(),s.Ub(33,"div",8),s.Pb(34,"input",15),s.Dc(35,R,2,1,"span",10),s.Tb(),s.Ub(36,"div",8),s.Pb(37,"input",16),s.Dc(38,x,2,1,"span",10),s.Tb(),s.Ub(39,"div",8),s.Pb(40,"input",17),s.Dc(41,L,2,1,"span",10),s.Tb(),s.Ub(42,"div",8),s.Dc(43,A,2,0,"label",18),s.Pb(44,"input",19),s.Dc(45,G,2,1,"span",10),s.Tb(),s.Ub(46,"div",8),s.Dc(47,M,2,0,"label",20),s.Ub(48,"input",21),s.bc("keyup",function(){return i.controlChanged("password")}),s.Tb(),s.Dc(49,J,2,1,"span",10),s.Tb(),s.Ub(50,"div",8),s.Dc(51,j,2,0,"label",22),s.Ub(52,"input",23),s.bc("keyup",function(){return i.controlChanged("confirmPassword")}),s.Tb(),s.Dc(53,V,2,1,"span",10),s.Tb(),s.Ub(54,"div",8),s.Pb(55,"input",24),s.Ub(56,"span"),s.Fc(57,"I have read and accept the purchase conditions, and understand the "),s.Ub(58,"a",25),s.Fc(59," Terms and Conditions "),s.Tb(),s.Tb(),s.Tb(),s.Ub(60,"div",8),s.Ub(61,"button",26),s.Dc(62,B,2,0,"span",10),s.Dc(63,Y,1,1,"mat-spinner",27),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&r){let r=null,e=null,t=null;s.Cb(11),s.lc("formGroup",i.myForm),s.Cb(5),s.lc("ngIf",i.uiErrors.firstName),s.Cb(4),s.lc("ngIf",i.uiErrors.lastName),s.Cb(3),s.lc("ngIf",i.uiErrors.middleName),s.Cb(5),s.lc("ngIf",i.uiErrors.birthdate),s.Cb(3),s.lc("items",i.gender),s.Cb(1),s.lc("ngIf",i.uiErrors.gender),s.Cb(3),s.lc("ngIf",i.uiErrors.phone),s.Cb(3),s.lc("ngIf",i.uiErrors.address),s.Cb(3),s.lc("ngIf",i.uiErrors.bvn),s.Cb(2),s.lc("ngIf",null==(r=i.myForm.get("email"))?null:r.value),s.Cb(2),s.lc("ngIf",i.uiErrors.email),s.Cb(2),s.lc("ngIf",null==(e=i.myForm.get("password"))?null:e.value),s.Cb(2),s.lc("ngIf",""!=i.uiErrors.password),s.Cb(2),s.lc("ngIf",null==(t=i.myForm.get("confirmPassword"))?null:t.value),s.Cb(2),s.lc("ngIf",i.uiErrors.confirmPassword),s.Cb(9),s.lc("ngIf",!i.submitting),s.Cb(1),s.lc("ngIf",i.submitting)}},directives:[d.t,d.n,d.h,d.c,d.m,d.f,t.n,P.a,d.a,c.b],styles:[""]}),r})();const $={email:{required:"Email is required",email:"The email field must be a valid email"}};let H={email:""};var X=e("YMi6");function W(r,i){1&r&&(s.Ub(0,"label",15),s.Fc(1,"Email"),s.Tb())}function _(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.email)}}function z(r,i){1&r&&(s.Ub(0,"span"),s.Fc(1,"Recover"),s.Tb())}function Z(r,i){1&r&&s.Pb(0,"mat-spinner",16),2&r&&s.lc("diameter",30)}let Q=(()=>{class r{constructor(r,i,e,t,s,o){this.fb=r,this.api=i,this.auth=e,this.appContext=t,this.commonServices=s,this.router=o,this.errors=[],this.formErrors=H,this.uiErrors=H,this.validationMessages=$,this.APIResponse=!1,this.submitting=!1}ngOnInit(){this.auth.isLoggedIn()&&this.router.navigate(["/dashboard"]),this.myForm=this.fb.group({email:[null,[d.s.required,d.s.email]]})}onSubmit(){if(this.APIResponse=!0,this.submitting=!0,this.myForm.invalid)return this.uiErrors=JSON.parse(JSON.stringify(this.formErrors)),this.errors=this.commonServices.findInvalidControlsRecursive(this.myForm),Object.keys(this.errors).forEach(r=>{Object.keys(this.errors[r]).forEach(i=>{this.uiErrors[r]=$[r][i]})}),this.APIResponse=!1,void(this.submitting=!1);const r=JSON.parse(JSON.stringify(this.myForm.value));console.log(r),this.api.post("/api/v1/auth/customers/forgot-password",r,!1).subscribe(r=>{this.APIResponse=!1,this.submitting=!1,p.a.fire("",null==r?void 0:r.message,"success"),this.router.navigateByUrl("/")},r=>{var i,e;this.APIResponse=!1,this.submitting=!1,p.a.fire("Oops...",null===(e=null===(i=null==r?void 0:r.error)||void 0===i?void 0:i.error)||void 0===e?void 0:e.message,"error")})}}return r.\u0275fac=function(i){return new(i||r)(s.Ob(d.e),s.Ob(l.a),s.Ob(u.a),s.Ob(X.a),s.Ob(v.a),s.Ob(b.c))},r.\u0275cmp=s.Ib({type:r,selectors:[["in-inl-forgot-password"]],decls:24,vars:5,consts:[[1,"row","mb-3"],[1,"col-md-12"],["routerLink","/auth/signup",1,"pull-right","text-primary"],[1,"row","mb-5"],[1,"text-muted","font-weight-bold"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email",4,"ngIf"],["formControlName","email","type","email","placeholder","Email",1,"form-control"],[4,"ngIf"],[1,"pull-right"],["routerLink","/auth/login",1,"text-primary"],["type","submit",1,"auth-button"],[3,"diameter",4,"ngIf"],["for","email"],[3,"diameter"]],template:function(r,i){if(1&r&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"a",2),s.Fc(3," Create an account "),s.Tb(),s.Ub(4,"h1"),s.Fc(5,"Reset Password"),s.Tb(),s.Tb(),s.Tb(),s.Ub(6,"div",3),s.Ub(7,"div",1),s.Ub(8,"span",4),s.Fc(9,"Enter your email to recover your password"),s.Tb(),s.Tb(),s.Tb(),s.Ub(10,"div",5),s.Ub(11,"div",1),s.Ub(12,"form",6),s.bc("ngSubmit",function(){return i.onSubmit()}),s.Ub(13,"div",7),s.Dc(14,W,2,0,"label",8),s.Pb(15,"input",9),s.Dc(16,_,2,1,"span",10),s.Tb(),s.Ub(17,"div",7),s.Ub(18,"strong",11),s.Ub(19,"a",12),s.Fc(20,"Login Instead"),s.Tb(),s.Tb(),s.Ub(21,"button",13),s.Dc(22,z,2,0,"span",10),s.Dc(23,Z,1,1,"mat-spinner",14),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&r){let r=null;s.Cb(12),s.lc("formGroup",i.myForm),s.Cb(2),s.lc("ngIf",null==(r=i.myForm.get("email"))?null:r.value),s.Cb(2),s.lc("ngIf",i.uiErrors.email),s.Cb(6),s.lc("ngIf",!i.submitting),s.Cb(1),s.lc("ngIf",i.submitting)}},directives:[b.e,d.t,d.n,d.h,t.n,d.c,d.m,d.f,c.b],styles:[""]}),r})();const rr={password:{required:"Password is required",minlength:"Must be minimum of 6 characters",oneDigit:"Must contain one digit",oneLowerCase:"Must contain one lowercase letter",oneUpperCase:"Must contain one uppercase letter"},confirmPassword:{required:"Confirm Password is required",mustMatch:"Password  and Confirm passord fields do not match"}};let ir={password:"",confirmPassword:""};function er(r,i){1&r&&(s.Ub(0,"label",17),s.Fc(1,"Password"),s.Tb())}function tr(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.password)}}function sr(r,i){1&r&&(s.Ub(0,"label",18),s.Fc(1,"Confirm Password"),s.Tb())}function or(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.confirmPassword)}}function nr(r,i){1&r&&(s.Ub(0,"span"),s.Fc(1,"Recover"),s.Tb())}function ar(r,i){1&r&&s.Pb(0,"mat-spinner",19),2&r&&s.lc("diameter",30)}let cr=(()=>{class r{constructor(r,i,e,t,s,o,n){this.fb=r,this.api=i,this.auth=e,this.commonServices=t,this.router=s,this.aRoute=o,this.appContext=n,this.errors=[],this.formErrors=ir,this.uiErrors=ir,this.validationMessages=rr,this.APIResponse=!1,this.submitting=!1,this.container={}}ngOnInit(){this.auth.isLoggedIn()&&this.router.navigate(["/dashboard"]),this.aRoute.queryParams.subscribe(r=>{this.container.token=r["token-details"],this.myForm=this.fb.group({password:[null,[d.s.required,d.s.minLength(6),this.commonServices.regexValidator(new RegExp(this.commonServices.oneDigit),{oneDigit:""}),this.commonServices.regexValidator(new RegExp(this.commonServices.oneLowerCase),{oneLowerCase:""}),this.commonServices.regexValidator(new RegExp(this.commonServices.oneUpperCase),{oneUpperCase:""})]],confirmPassword:[null,d.s.required]},{validators:this.commonServices.mustMatch("password","confirmPassword")})})}controlChanged(r){this.errors=this.commonServices.controlnvalid(this.myForm.get(r)),this.displayErrors()}onSubmit(){if(this.APIResponse=!0,this.submitting=!0,this.myForm.invalid)return this.uiErrors=JSON.parse(JSON.stringify(this.formErrors)),this.errors=this.commonServices.findInvalidControlsRecursive(this.myForm),this.displayErrors(),this.APIResponse=!1,void(this.submitting=!1);const r=JSON.parse(JSON.stringify(this.myForm.value));console.log(r),this.api.post("/api/v1/auth/customers/reset-password/"+this.container.token,r,!1).subscribe(r=>{this.APIResponse=!1,this.submitting=!1,p.a.fire("",null==r?void 0:r.message,"success"),this.router.navigateByUrl("/")},r=>{var i,e;this.APIResponse=!1,this.submitting=!1,p.a.fire("Oops...",null===(e=null===(i=null==r?void 0:r.error)||void 0===i?void 0:i.error)||void 0===e?void 0:e.message,"error")})}displayErrors(){Object.keys(this.formErrors).forEach(r=>{this.formErrors[r]=""}),Object.keys(this.errors).forEach(r=>{Object.keys(this.errors[r]).forEach(i=>{this.uiErrors[r]=rr[r][i]})})}}return r.\u0275fac=function(i){return new(i||r)(s.Ob(d.e),s.Ob(l.a),s.Ob(u.a),s.Ob(v.a),s.Ob(b.c),s.Ob(b.a),s.Ob(X.a))},r.\u0275cmp=s.Ib({type:r,selectors:[["in-inl-reset-password"]],decls:28,vars:7,consts:[[1,"row","mb-3"],[1,"col-md-12"],["routerLink","/auth/signup",1,"pull-right","text-primary"],[1,"row","mb-5"],[1,"text-muted","font-weight-bold"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","password",4,"ngIf"],["id","password","formControlName","password","type","password","placeholder","New Password",1,"form-control",3,"keyup"],[4,"ngIf"],["for","confirmPassword",4,"ngIf"],["id","confirmPassword","formControlName","confirmPassword","type","password","placeholder","Confirm New Password",1,"form-control",3,"keyup"],[1,"pull-right"],["routerLink","/auth/login",1,"text-primary"],["type","submit",1,"auth-button"],[3,"diameter",4,"ngIf"],["for","password"],["for","confirmPassword"],[3,"diameter"]],template:function(r,i){if(1&r&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"a",2),s.Fc(3," Create an account "),s.Tb(),s.Ub(4,"h1"),s.Fc(5,"Complete password recovery"),s.Tb(),s.Tb(),s.Tb(),s.Ub(6,"div",3),s.Ub(7,"div",1),s.Ub(8,"span",4),s.Fc(9,"Enter your new password and comfirm"),s.Tb(),s.Tb(),s.Tb(),s.Ub(10,"div",5),s.Ub(11,"div",1),s.Ub(12,"form",6),s.bc("ngSubmit",function(){return i.onSubmit()}),s.Ub(13,"div",7),s.Dc(14,er,2,0,"label",8),s.Ub(15,"input",9),s.bc("keyup",function(){return i.controlChanged("password")}),s.Tb(),s.Dc(16,tr,2,1,"span",10),s.Tb(),s.Ub(17,"div",7),s.Dc(18,sr,2,0,"label",11),s.Ub(19,"input",12),s.bc("keyup",function(){return i.controlChanged("confirmPassword")}),s.Tb(),s.Dc(20,or,2,1,"span",10),s.Tb(),s.Ub(21,"div",7),s.Ub(22,"strong",13),s.Ub(23,"a",14),s.Fc(24,"Login Instead"),s.Tb(),s.Tb(),s.Ub(25,"button",15),s.Dc(26,nr,2,0,"span",10),s.Dc(27,ar,1,1,"mat-spinner",16),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&r){let r=null,e=null;s.Cb(12),s.lc("formGroup",i.myForm),s.Cb(2),s.lc("ngIf",null==(r=i.myForm.get("password"))?null:r.value),s.Cb(2),s.lc("ngIf",""!=i.uiErrors.password),s.Cb(2),s.lc("ngIf",null==(e=i.myForm.get("confirmPassword"))?null:e.value),s.Cb(2),s.lc("ngIf",i.uiErrors.confirmPassword),s.Cb(6),s.lc("ngIf",!i.submitting),s.Cb(1),s.lc("ngIf",i.submitting)}},directives:[b.e,d.t,d.n,d.h,t.n,d.c,d.m,d.f,c.b],styles:[""]}),r})();const br={email:{required:"Email is required",pattern:"The email field must be a valid email"},password:{required:"Password is required",minlength:"Must be minimum of 6 characters",oneDigit:"Must contain one digit",oneLowerCase:"Must contain one lowercase letter",oneUpperCase:"Must contain one uppercase letter"}};let lr={email:"",password:""};function ur(r,i){1&r&&(s.Ub(0,"label",16),s.Fc(1,"Email"),s.Tb())}function mr(r,i){if(1&r&&(s.Ub(0,"span",17),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.email)}}function dr(r,i){1&r&&(s.Ub(0,"label",16),s.Fc(1,"Password"),s.Tb())}function hr(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.password)}}function pr(r,i){1&r&&(s.Ub(0,"span"),s.Fc(1,"Login"),s.Tb())}function fr(r,i){1&r&&s.Pb(0,"mat-spinner",18),2&r&&s.lc("diameter",30)}let gr=(()=>{class r{constructor(r,i,e,t,s,o){this.fb=r,this.api=i,this.auth=e,this.appContext=t,this.commonServices=s,this.router=o,this.errors=[],this.formErrors=lr,this.uiErrors=lr,this.validationMessages=br,this.APIResponse=!1,this.submitting=!1}ngOnInit(){this.auth.isLoggedIn()&&this.router.navigate(["/dashboard"]),this.myForm=this.fb.group({email:[null,[d.s.required,d.s.pattern(this.commonServices.email)]],password:[null,[d.s.required,d.s.minLength(6)]]})}controlChanged(r){this.errors=this.commonServices.controlnvalid(this.myForm.get(r)),this.displayErrors()}onSubmit(){if(this.APIResponse=!0,this.submitting=!0,this.myForm.invalid)return this.uiErrors=JSON.parse(JSON.stringify(this.formErrors)),this.errors=this.commonServices.findInvalidControlsRecursive(this.myForm),this.displayErrors(),this.APIResponse=!1,void(this.submitting=!1);const r=JSON.parse(JSON.stringify(this.myForm.value));this.api.post("/auth/admins/login",r,!1).subscribe(r=>{this.APIResponse=!1,this.submitting=!1,this.appContext.userInformation=r.data,this.auth.setToken(r),this.auth.redirectUrl?(this.router.navigate([this.auth.redirectUrl]),this.auth.redirectUrl=""):this.router.navigate(["/dashboard"])},r=>{var i,e;this.APIResponse=!1,this.submitting=!1,p.a.fire("Oops...",503===(null==r?void 0:r.status)?"Service is currently unavailable. Please try again later":null===(e=null===(i=null==r?void 0:r.error)||void 0===i?void 0:i.error)||void 0===e?void 0:e.message,"error")})}displayErrors(){Object.keys(this.formErrors).forEach(r=>{this.formErrors[r]=""}),Object.keys(this.errors).forEach(r=>{Object.keys(this.errors[r]).forEach(i=>{this.uiErrors[r]=br[r][i]})})}}return r.\u0275fac=function(i){return new(i||r)(s.Ob(d.e),s.Ob(l.a),s.Ob(u.a),s.Ob(X.a),s.Ob(v.a),s.Ob(b.c))},r.\u0275cmp=s.Ib({type:r,selectors:[["in-inl-login"]],decls:26,vars:7,consts:[[1,"row","mb-3"],[1,"col-md-12"],[1,"row","mb-5"],[1,"text-muted","font-weight-bold"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email",4,"ngIf"],["formControlName","email","id","email","type","email","placeholder","Email",1,"form-control",3,"keyup"],["class","form-text",4,"ngIf"],["formControlName","password","type","password","placeholder","Password",1,"form-control",3,"keyup"],[4,"ngIf"],[1,"pull-right"],["routerLink","/auth/forgot-password",1,"text-primary"],["type","submit",1,"auth-button"],[3,"diameter",4,"ngIf"],["for","email"],[1,"form-text"],[3,"diameter"]],template:function(r,i){if(1&r&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"h1"),s.Fc(3,"Login"),s.Tb(),s.Tb(),s.Tb(),s.Ub(4,"div",2),s.Ub(5,"div",1),s.Ub(6,"span",3),s.Fc(7,"Sign in with your email and password"),s.Tb(),s.Tb(),s.Tb(),s.Ub(8,"div",4),s.Ub(9,"div",1),s.Ub(10,"form",5),s.bc("ngSubmit",function(){return i.onSubmit()}),s.Ub(11,"div",6),s.Dc(12,ur,2,0,"label",7),s.Ub(13,"input",8),s.bc("keyup",function(){return i.controlChanged("email")}),s.Tb(),s.Dc(14,mr,2,1,"span",9),s.Tb(),s.Ub(15,"div",6),s.Dc(16,dr,2,0,"label",7),s.Ub(17,"input",10),s.bc("keyup",function(){return i.controlChanged("password")}),s.Tb(),s.Dc(18,hr,2,1,"span",11),s.Tb(),s.Ub(19,"div",6),s.Ub(20,"strong",12),s.Ub(21,"a",13),s.Fc(22,"Reset Password"),s.Tb(),s.Tb(),s.Ub(23,"button",14),s.Dc(24,pr,2,0,"span",11),s.Dc(25,fr,1,1,"mat-spinner",15),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&r){let r=null,e=null;s.Cb(10),s.lc("formGroup",i.myForm),s.Cb(2),s.lc("ngIf",null==(r=i.myForm.get("email"))?null:r.value),s.Cb(2),s.lc("ngIf",i.uiErrors.email),s.Cb(2),s.lc("ngIf",null==(e=i.myForm.get("password"))?null:e.value),s.Cb(2),s.lc("ngIf",i.uiErrors.password),s.Cb(6),s.lc("ngIf",!i.submitting),s.Cb(1),s.lc("ngIf",i.submitting)}},directives:[d.t,d.n,d.h,t.n,d.c,d.m,d.f,b.e,c.b],styles:[""]}),r})();var vr=e("lJxs");let yr=(()=>{class r{constructor(r,i){this.authService=r,this.router=i}canActivate(r,i){return this.authService.signUp().pipe(Object(vr.a)(r=>!!r||(this.authService.signup$.next(null),this.router.navigate(["/auth/login"]),!1)))}}return r.\u0275fac=function(i){return new(i||r)(s.Yb(u.a),s.Yb(b.c))},r.\u0275prov=s.Kb({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const Tr={email:{required:"Email is required",email:"The email field must be a valid email"},otp:{required:"OTP is required",minlength:"The OTP field must be at least 6 characters"}};let Ur={email:"",otp:""};function wr(r,i){1&r&&(s.Ub(0,"label",17),s.Fc(1,"Email"),s.Tb())}function Cr(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.email)}}function Ir(r,i){1&r&&s.Pb(0,"mat-spinner",18),2&r&&s.lc("diameter",20)}function Er(r,i){1&r&&(s.Ub(0,"label",19),s.Fc(1,"OTP"),s.Tb())}function Sr(r,i){if(1&r&&(s.Ub(0,"span"),s.Fc(1),s.Tb()),2&r){const r=s.fc();s.Cb(1),s.Gc(r.uiErrors.otp)}}function Fr(r,i){1&r&&(s.Ub(0,"span"),s.Fc(1,"Verify"),s.Tb())}function Pr(r,i){1&r&&s.Pb(0,"mat-spinner",20),2&r&&s.lc("diameter",30)}const Or=[{path:"auth",component:m,children:[{path:"login",component:gr},{path:"forgot-password",component:Q},{path:"reset-password",component:cr},{path:"signup",component:E},{path:"signup-continue",canActivate:[yr],component:K},{path:"verify-otp",canActivate:[yr],component:(()=>{class r{constructor(r,i,e,t,s){this.fb=r,this.apiService=i,this.authService=e,this.commonServices=t,this.router=s,this.errors=[],this.formErrors=Ur,this.uiErrors=Ur,this.validationMessages=Tr,this.container={},this.resending=!1,this.APIResponse=!1,this.submitting=!1}ngOnInit(){this.myForm=this.fb.group({email:["",[d.s.required,d.s.pattern(this.commonServices.email)]],otp:[null,[d.s.required,d.s.minLength(6)]]}),this.signupSub=this.authService.signUp().subscribe(r=>{console.log(r)})}populateKYCDetail(r){this.myForm.patchValue({email:null==r?void 0:r.email,otp:null==r?void 0:r.otp})}onResendOTP(){this.resending=!0;const r=this.myForm.get("email");if(!r.value)return this.resending=!1,void p.a.fire("","Email Address is required","error");this.apiService.post("/api/v1/auth/customers/resend-otp",{email:r.value},!1).subscribe(r=>{this.resending=!1,p.a.fire("",null==r?void 0:r.message,"success")},r=>{var i,e;this.resending=!1,p.a.fire("Oops...",null===(e=null===(i=null==r?void 0:r.error)||void 0===i?void 0:i.error)||void 0===e?void 0:e.message,"error")})}controlChanged(r){this.errors=this.commonServices.controlnvalid(this.myForm.get(r)),this.displayErrors()}onSubmit(){if(this.APIResponse=!1,this.submitting=!0,this.myForm.invalid)return this.uiErrors=JSON.parse(JSON.stringify(this.formErrors)),this.errors=this.commonServices.findInvalidControlsRecursive(this.myForm),this.displayErrors(),this.APIResponse=!1,void(this.submitting=!1);const r=JSON.parse(JSON.stringify(this.myForm.value));console.log(r),this.apiService.post("/api/v1/auth/customers/verify-otp",r,!1).subscribe(r=>{this.APIResponse=!1,this.submitting=!1,this.authService.signup$.next(r.data),this.router.navigate(["/auth/login"]),p.a.fire("",null==r?void 0:r.message,"success"),setTimeout(()=>{},2e3)},r=>{var i,e;this.APIResponse=!1,this.submitting=!1,p.a.fire("Oops...",null===(e=null===(i=null==r?void 0:r.error)||void 0===i?void 0:i.error)||void 0===e?void 0:e.message,"error")})}displayErrors(){Object.keys(this.errors).forEach(r=>{Object.keys(this.errors[r]).forEach(i=>{this.uiErrors[r]=Tr[r][i]})})}ngOnDestroy(){this.signupSub&&this.signupSub.unsubscribe()}}return r.\u0275fac=function(i){return new(i||r)(s.Ob(d.e),s.Ob(l.a),s.Ob(u.a),s.Ob(v.a),s.Ob(b.c))},r.\u0275cmp=s.Ib({type:r,selectors:[["in-inl-verify-otp"]],decls:29,vars:8,consts:[[1,"row","mb-3"],[1,"col-md-12"],["routerLink","/auth/signup",1,"pull-right","text-primary"],[1,"row","mb-5"],[1,"text-muted","font-weight-bold"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email",4,"ngIf"],["id","email","formControlName","email","type","email","placeholder","Email",1,"form-control",3,"keyup"],[4,"ngIf"],[1,"text-danger","cursor-pointer",3,"click"],["color","accent",3,"diameter",4,"ngIf"],["for","otp",4,"ngIf"],["id","otp","formControlName","otp","type","text","placeholder","OTP",1,"form-control",3,"keyup"],["type","submit",1,"auth-button"],[3,"diameter",4,"ngIf"],["for","email"],["color","accent",3,"diameter"],["for","otp"],[3,"diameter"]],template:function(r,i){1&r&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"a",2),s.Fc(3," Create an account "),s.Tb(),s.Ub(4,"h1"),s.Fc(5,"Verify OTP"),s.Tb(),s.Tb(),s.Tb(),s.Ub(6,"div",3),s.Ub(7,"div",1),s.Ub(8,"span",4),s.Fc(9,"Verify your account with your email address and otp"),s.Tb(),s.Tb(),s.Tb(),s.Ub(10,"div",5),s.Ub(11,"div",1),s.Ub(12,"form",6),s.bc("ngSubmit",function(){return i.onSubmit()}),s.Ub(13,"div",7),s.Dc(14,wr,2,0,"label",8),s.Ub(15,"input",9),s.bc("keyup",function(){return i.controlChanged("email")}),s.Tb(),s.Dc(16,Cr,2,1,"span",10),s.Tb(),s.Ub(17,"div",7),s.Ub(18,"strong",11),s.bc("click",function(){return i.onResendOTP()}),s.Fc(19,"Click Here to Resend OTP"),s.Tb(),s.Dc(20,Ir,1,1,"mat-spinner",12),s.Tb(),s.Ub(21,"div",7),s.Dc(22,Er,2,0,"label",13),s.Ub(23,"input",14),s.bc("keyup",function(){return i.controlChanged("otp")}),s.Tb(),s.Dc(24,Sr,2,1,"span",10),s.Tb(),s.Ub(25,"div",7),s.Ub(26,"button",15),s.Dc(27,Fr,2,0,"span",10),s.Dc(28,Pr,1,1,"mat-spinner",16),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&r&&(s.Cb(12),s.lc("formGroup",i.myForm),s.Cb(2),s.lc("ngIf",i.myForm.get("email").value),s.Cb(2),s.lc("ngIf",i.uiErrors.email),s.Cb(4),s.lc("ngIf",i.resending),s.Cb(2),s.lc("ngIf",i.myForm.get("otp").value),s.Cb(2),s.lc("ngIf",i.uiErrors.otp),s.Cb(3),s.lc("ngIf",!i.submitting),s.Cb(1),s.lc("ngIf",i.submitting))},directives:[b.e,d.t,d.n,d.h,t.n,d.c,d.m,d.f,c.b],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),r})()},{path:"",redirectTo:"/auth/login",pathMatch:"full"}]},{path:"",redirectTo:"/auth/login",pathMatch:"full"}];let Nr=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=s.Mb({type:r}),r.\u0275inj=s.Lb({imports:[[b.f.forChild(Or)],b.f]}),r})();var Dr=e("i2L+");let qr=(()=>{class r{}return r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=s.Mb({type:r}),r.\u0275inj=s.Lb({imports:[[t.c,Dr.a,P.b,n,a.d,c.a,Nr]]}),r})()}}]);