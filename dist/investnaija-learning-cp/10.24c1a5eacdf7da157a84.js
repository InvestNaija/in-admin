(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Sttu:function(e,t,r){"use strict";r.r(t),r.d(t,"SharesModule",function(){return Fe});var i=r("ofXK"),n=r("tyNb"),s=r("eIep"),o=r("fXoL"),c=r("4Ebo"),a=r("DRsH"),b=r("Xa2L");function l(e,t){1&e&&(o.Ub(0,"div",1),o.Ub(1,"div",26),o.Ub(2,"div",27),o.Ub(3,"div",18),o.Ub(4,"div",28),o.Pb(5,"mat-spinner",29),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.Cb(5),o.lc("diameter",30))}const u=function(){return["/dashboard/index"]};let d=(()=>{class e{constructor(e,t,r,i){this.router=e,this.aRoute=t,this.api=r,this.commonServices=i}ngOnInit(){this.aRoute.paramMap.pipe(Object(s.a)(e=>(this.commonServices.loading().next(!0),this.api.get(`/api/v1/assets/${e.get("id")}`)))).subscribe(e=>{this.commonServices.loading().next(!1),this.share=e.data})}onExpressInterest(e){this.router.navigateByUrl(`/dashboard/shares/details/${e.id}/expression-of-interest`)}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(n.c),o.Ob(n.a),o.Ob(c.a),o.Ob(a.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["in-share-detail"]],decls:77,vars:32,consts:[[1,"container-fluid","p-4"],[1,"row"],[1,"col-12"],[1,"text-dark","text-decoration-none",3,"routerLink"],[1,"page-title"],["class","row",4,"ngIf"],[1,"row","justify-content-between","my-3"],[1,"col-sm-12","col-md-4"],[1,"d-flex"],[2,"height","70px",3,"src","alt"],[1,"ml-2",2,"margin-left","10px"],[1,"font-weight-bold","text-muted","mb-1"],[1,"m-0"],[1,"m-0","text-success","font-weight-bold"],[1,"col-sm-12","col-md-2"],[1,"btn","auth-button",3,"click"],[1,"col-md-6"],[1,"card",2,"min-height","316px"],[1,"card-body"],[1,"card-title","text-dark","text-muted"],[1,"col-6"],[1,"text-muted","font-weight-bold"],[1,"font-weight-bolder",3,"ngClass"],[1,"text-dark","font-weight-bold","text-uppercase"],[1,"text-dark","font-weight-bold"],[3,"innerHtml"],[1,"col-md-12"],[1,"card"],[1,"mat-spinner-container"],["color","accent",3,"diameter"]],template:function(e,t){1&e&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"div",2),o.Ub(3,"a",3),o.Fc(4,"< Back"),o.Tb(),o.Ub(5,"div",4),o.Ub(6,"h1"),o.Fc(7),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Dc(8,l,6,1,"div",5),o.gc(9,"async"),o.Ub(10,"div",6),o.Ub(11,"div",7),o.Ub(12,"div",8),o.Pb(13,"img",9),o.Ub(14,"div",10),o.Ub(15,"h3",11),o.Fc(16),o.Tb(),o.Ub(17,"p",12),o.Fc(18),o.gc(19,"currency"),o.gc(20,"currency"),o.Tb(),o.Ub(21,"p",13),o.Fc(22,"+0 (+0%)"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(23,"div",14),o.Ub(24,"button",15),o.bc("click",function(){return t.onExpressInterest(t.share)}),o.Fc(25,"Buy Fund"),o.Tb(),o.Tb(),o.Tb(),o.Ub(26,"div",1),o.Ub(27,"div",16),o.Ub(28,"div",17),o.Ub(29,"div",18),o.Ub(30,"h2",19),o.Fc(31,"Overview"),o.Tb(),o.Ub(32,"div",1),o.Ub(33,"div",20),o.Ub(34,"p",21),o.Fc(35,"Market Status"),o.Tb(),o.Ub(36,"p",22),o.Fc(37),o.Tb(),o.Tb(),o.Ub(38,"div",20),o.Ub(39,"p",21),o.Fc(40,"Offering Type"),o.Tb(),o.Ub(41,"p",23),o.Fc(42),o.Tb(),o.Tb(),o.Ub(43,"div",20),o.Ub(44,"p",21),o.Fc(45,"Mutual Fund Price"),o.Tb(),o.Ub(46,"p",24),o.Fc(47),o.gc(48,"number"),o.Tb(),o.Tb(),o.Ub(49,"div",20),o.Ub(50,"p",21),o.Fc(51,"Minimum Unit"),o.Tb(),o.Ub(52,"p",24),o.Fc(53),o.gc(54,"number"),o.Tb(),o.Tb(),o.Ub(55,"div",20),o.Ub(56,"p",21),o.Fc(57,"Script"),o.Tb(),o.Ub(58,"p",24),o.Fc(59,"Opportunity to re-invest dividend"),o.Tb(),o.Tb(),o.Ub(60,"div",20),o.Ub(61,"p",21),o.Fc(62,"Investment Policy"),o.Tb(),o.Ub(63,"p",24),o.Fc(64,"US$ Bonds>=70%"),o.Tb(),o.Tb(),o.Ub(65,"div",20),o.Ub(66,"p",21),o.Fc(67,"Other Assets"),o.Tb(),o.Ub(68,"p",24),o.Fc(69,"<=30%."),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(70,"div",16),o.Ub(71,"div",17),o.Ub(72,"div",18),o.Ub(73,"h2",19),o.Fc(74),o.gc(75,"uppercase"),o.Tb(),o.Pb(76,"div",25),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.Cb(3),o.lc("routerLink",o.oc(31,u)),o.Cb(4),o.Gc(null==t.share?null:t.share.name),o.Cb(1),o.lc("ngIf",o.hc(9,15,t.commonServices.isLoading$)),o.Cb(5),o.mc("alt",null==t.share?null:t.share.name),o.lc("src",null==t.share?null:t.share.image,o.yc),o.Cb(3),o.Gc(null==t.share?null:t.share.name),o.Cb(2),o.Ic("",o.ic(19,17,null==t.share?null:t.share.anticipatedMinPrice,null==t.share?null:t.share.currency,"symbol-narrow")," - ",o.ic(20,21,null==t.share?null:t.share.anticipatedMaxPrice,null==t.share?null:t.share.currency,"symbol-narrow"),""),o.Cb(18),o.lc("ngClass",null!=t.share&&t.share.openForPurchase?"text-success":"text-danger"),o.Cb(1),o.Gc(null!=t.share&&t.share.openForPurchase?"Open":"Closed"),o.Cb(5),o.Gc(null==t.share?null:t.share.type),o.Cb(5),o.Gc(o.hc(48,25,null==t.share?null:t.share.sharePrice)),o.Cb(6),o.Gc(o.hc(54,27,null==t.share?null:t.share.anticipatedMinPrice)),o.Cb(21),o.Hc("About ",o.hc(75,29,null==t.share?null:t.share.name),""),o.Cb(2),o.lc("innerHtml",null==t.share?null:t.share.description,o.xc))},directives:[n.e,i.n,i.l,b.b],pipes:[i.b,i.d,i.g,i.u],styles:[""]}),e})();var m=r("PSD3"),h=r.n(m),p=r("3Pt+");const f={type:{required:"Email is required"},sharePrice:{required:"Share price cannot be empty. Did you tamper with this field"},units:{required:"Number of Units is required",min:"Minimum number of units is 1"},amount:{required:"Amount is required."}};let v={type:"",sharePrice:"",units:"",amount:""};var g=r("YMi6");function y(e,t){1&e&&o.Pb(0,"mat-spinner",31),2&e&&o.lc("diameter",30)}function U(e,t){if(1&e&&(o.Ub(0,"span"),o.Fc(1),o.Tb()),2&e){const e=o.fc();o.Cb(1),o.Gc(e.uiErrors.type)}}function T(e,t){if(1&e&&(o.Ub(0,"span"),o.Fc(1),o.Tb()),2&e){const e=o.fc();o.Cb(1),o.Gc(e.uiErrors.sharePrice)}}function C(e,t){if(1&e&&(o.Ub(0,"span"),o.Fc(1),o.Tb()),2&e){const e=o.fc();o.Cb(1),o.Gc(e.uiErrors.amount)}}function F(e,t){if(1&e&&(o.Ub(0,"span"),o.Fc(1),o.gc(2,"currency"),o.Tb()),2&e){const e=o.fc();o.Cb(1),o.Hc("Amount cannot be less than ",o.ic(2,1,null==e.share?null:e.share.anticipatedMinPrice,null==e.share?null:e.share.currency,"symbol-narrow"),".")}}function x(e,t){if(1&e&&(o.Ub(0,"span"),o.Fc(1),o.Tb()),2&e){const e=o.fc();o.Cb(1),o.Gc(e.uiErrors.units)}}function S(e,t){1&e&&(o.Ub(0,"span"),o.Fc(1,"Proceed to make payment >>"),o.Tb())}function I(e,t){1&e&&o.Pb(0,"mat-spinner",32),2&e&&o.lc("diameter",30)}const O=function(){return["/dashboard/index"]};let w=(()=>{class e{constructor(e,t,r,i,n,s){this.fb=e,this.aRoute=t,this.router=r,this.apiService=i,this.commonServices=n,this.appService=s,this.errors=[],this.formErrors=v,this.uiErrors=v,this.validationMessages=f,this.submitting=!1,this.total=0}ngOnInit(){this.myForm=this.fb.group({type:[{value:"",disabled:!0},[p.t.required]],sharePrice:[{value:"",disabled:!0},[p.t.required]],units:["",[p.t.required,p.t.min(1)]],amount:["",[p.t.required]]}),this.aRoute.paramMap.pipe(Object(s.a)(e=>(this.commonServices.loading().next(!0),this.assetId=e.get("id"),this.apiService.get(`/api/v1/assets/${this.assetId}`)))).subscribe(e=>{this.commonServices.loading().next(!1),this.share=e.data,this.populateExpression(e.data)})}populateExpression(e){this.myForm.patchValue({type:null==e?void 0:e.type,sharePrice:null==e?void 0:e.sharePrice,units:null==e?void 0:e.units,amount:null==e?void 0:e.amount}),this.myForm.get("amount").setValidators([p.t.required,p.t.min(this.share.anticipatedMinPrice)]),this.myForm.get("amount").updateValueAndValidity()}amountChanged(e){this.myForm.patchValue({units:+this.myForm.get(e).value/+this.myForm.get("sharePrice").value}),this.errors=this.commonServices.controlnvalid(this.myForm.get(e)),this.displayErrors()}unitsChanged(e){this.myForm.patchValue({amount:+this.myForm.get("sharePrice").value*+this.myForm.get(e).value}),this.errors=this.commonServices.controlnvalid(this.myForm.get(e)),this.displayErrors()}onSubmit(){if(this.submitting=!0,this.myForm.invalid)return this.uiErrors=JSON.parse(JSON.stringify(this.formErrors)),this.errors=this.commonServices.findInvalidControlsRecursive(this.myForm),this.displayErrors(),void(this.submitting=!1);const e={units:this.myForm.get("units").value,assetId:this.assetId};this.apiService.post("/api/v1/reservations/express-interest",e).subscribe(e=>{this.router.navigateByUrl(`/dashboard/transactions/${e.data.reservation.id}/${e.data.asset.id}/make-payment`)},e=>{var t,r;this.submitting=!1,h.a.fire("Oops...",null===(r=null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.error)||void 0===r?void 0:r.message,"error")})}displayErrors(){Object.keys(this.formErrors).forEach(e=>{this.formErrors[e]=""}),Object.keys(this.errors).forEach(e=>{Object.keys(this.errors[e]).forEach(t=>{this.uiErrors[e]=f[e][t]})})}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(p.e),o.Ob(n.a),o.Ob(n.c),o.Ob(c.a),o.Ob(a.a),o.Ob(g.a))},e.\u0275cmp=o.Ib({type:e,selectors:[["in-expression"]],decls:68,vars:34,consts:[[1,"container-fluid","p-4"],[1,"row"],[1,"col-12"],[1,"text-dark","text-decoration-none",3,"routerLink"],[1,"page-title"],[1,"col-md-6"],[1,"card",2,"min-height","316px"],[1,"card-body"],["color","accent",3,"diameter",4,"ngIf"],[1,"card-title","mb-3"],[1,"border-bottom","p-3"],[1,"d-flex"],[2,"height","70px",3,"src","alt"],[1,"ml-2",2,"margin-left","10px"],[1,"font-weight-bold","text-muted","mb-1"],[1,"m-0"],[1,"m-0","text-success","font-weight-bold"],[3,"formGroup","ngSubmit"],[1,"row","border-bottom","py-3"],[1,"col-6"],[1,"form-group","col-md-12","inl-form-input"],[1,"text-muted","font-weight-bold"],["formControlName","type","type","text","placeholder","Offering Type",1,"form-control"],[4,"ngIf"],["formControlName","sharePrice","type","text","placeholder","Asset Price",1,"form-control"],["formControlName","amount","type","number","placeholder","Estimated Amount",1,"form-control",3,"min","keyup"],["formControlName","units","type","number","placeholder","Specified Units",1,"form-control",3,"keyup"],[1,"form-group","border-bottom","px-5","py-2"],[1,"form-group","border-bottom","py-3"],["type","submit",1,"auth-button","w-100"],[3,"diameter",4,"ngIf"],["color","accent",3,"diameter"],[3,"diameter"]],template:function(e,t){1&e&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"div",2),o.Ub(3,"a",3),o.Fc(4,"< Back"),o.Tb(),o.Ub(5,"div",4),o.Ub(6,"h1"),o.Fc(7),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"div",1),o.Ub(9,"div",5),o.Ub(10,"div",6),o.Ub(11,"div",7),o.Dc(12,y,1,1,"mat-spinner",8),o.gc(13,"async"),o.Ub(14,"h3",9),o.Fc(15,"Enter your transaction details"),o.Tb(),o.Ub(16,"div",1),o.Ub(17,"div",2),o.Ub(18,"div",10),o.Ub(19,"div",11),o.Pb(20,"img",12),o.Ub(21,"div",13),o.Ub(22,"h3",14),o.Fc(23),o.Tb(),o.Ub(24,"p",15),o.Fc(25),o.gc(26,"currency"),o.gc(27,"currency"),o.Tb(),o.Ub(28,"p",16),o.Fc(29,"+0 (+0%)"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(30,"form",17),o.bc("ngSubmit",function(){return t.onSubmit()}),o.Ub(31,"div",18),o.Ub(32,"div",19),o.Ub(33,"div",20),o.Ub(34,"p",21),o.Fc(35,"Offering Type"),o.Tb(),o.Pb(36,"input",22),o.Dc(37,U,2,1,"span",23),o.Tb(),o.Tb(),o.Ub(38,"div",19),o.Ub(39,"div",20),o.Ub(40,"p",21),o.Fc(41),o.Tb(),o.Pb(42,"input",24),o.Dc(43,T,2,1,"span",23),o.Tb(),o.Tb(),o.Ub(44,"div",19),o.Ub(45,"div",20),o.Ub(46,"p",21),o.Fc(47,"Estimated Amount"),o.Tb(),o.Ub(48,"input",25),o.bc("keyup",function(){return t.amountChanged("amount")}),o.Tb(),o.Dc(49,C,2,1,"span",23),o.Dc(50,F,3,5,"span",23),o.Tb(),o.Tb(),o.Ub(51,"div",19),o.Ub(52,"div",20),o.Ub(53,"p",21),o.Fc(54,"Specified Units"),o.Tb(),o.Ub(55,"input",26),o.bc("keyup",function(){return t.unitsChanged("units")}),o.Tb(),o.Dc(56,x,2,1,"span",23),o.Tb(),o.Tb(),o.Tb(),o.Ub(57,"div",27),o.Ub(58,"p",21),o.Fc(59,"Total"),o.Tb(),o.Ub(60,"h1"),o.Ub(61,"small"),o.Fc(62),o.gc(63,"currency"),o.Tb(),o.Tb(),o.Tb(),o.Ub(64,"div",28),o.Ub(65,"button",29),o.Dc(66,S,2,0,"span",23),o.Dc(67,I,1,1,"mat-spinner",30),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.Cb(3),o.lc("routerLink",o.oc(33,O)),o.Cb(4),o.Gc(null==t.share?null:t.share.name),o.Cb(5),o.lc("ngIf",o.hc(13,19,t.commonServices.isLoading$)),o.Cb(8),o.mc("alt",null==t.share?null:t.share.name),o.lc("src",null==t.share?null:t.share.image,o.yc),o.Cb(3),o.Gc(null==t.share?null:t.share.name),o.Cb(2),o.Ic("",o.ic(26,21,null==t.share?null:t.share.anticipatedMinPrice,null==t.share?null:t.share.currency,"symbol-narrow")," - ",o.ic(27,25,null==t.share?null:t.share.anticipatedMaxPrice,null==t.share?null:t.share.currency,"symbol-narrow"),""),o.Cb(5),o.lc("formGroup",t.myForm),o.Cb(7),o.lc("ngIf",t.uiErrors.type),o.Cb(4),o.Hc("Asset Price (",null==t.share?null:t.share.currency,")"),o.Cb(2),o.lc("ngIf",t.uiErrors.sharePrice),o.Cb(5),o.lc("min",null==t.share?null:t.share.anticipatedMinPrice),o.Cb(1),o.lc("ngIf",t.uiErrors.amount),o.Cb(1),o.lc("ngIf",null==t.errors.amount?null:t.errors.amount.min),o.Cb(6),o.lc("ngIf",t.uiErrors.units),o.Cb(6),o.Gc(o.ic(63,29,t.myForm.get("amount").value,null==t.share?null:t.share.currency,"symbol-narrow")),o.Cb(4),o.lc("ngIf",!t.submitting),o.Cb(1),o.lc("ngIf",t.submitting))},directives:[n.e,i.n,p.u,p.o,p.h,p.c,p.n,p.f,p.r,b.b],pipes:[i.b,i.d],styles:[""]}),e})();var P=r("itXk");const N={cscsNo:{required:"CSCS Number is required"}};let E={cscsNo:""};var k=r("AytR");function M(e,t){1&e&&o.Pb(0,"mat-spinner",19),2&e&&o.lc("diameter",30)}function D(e,t){if(1&e&&(o.Ub(0,"span"),o.Fc(1),o.Tb()),2&e){const e=o.fc();o.Cb(1),o.Gc(e.uiErrors.cscsNo)}}function q(e,t){1&e&&(o.Ub(0,"span"),o.Fc(1,"Proceed to Make Payment"),o.Tb())}function G(e,t){1&e&&o.Pb(0,"mat-spinner",20),2&e&&o.lc("diameter",30)}const j=function(){return["/dashboard/index"]};let L=(()=>{class e{constructor(e,t,r,i,n,s,o){this.fb=e,this.aRoute=t,this.router=r,this.apiService=i,this.commonServices=n,this.appService=s,this.document=o,this.errors=[],this.formErrors=E,this.uiErrors=E,this.validationMessages=N,this.submitting=!1,this.total=0}ngOnInit(){this.myForm=this.fb.group({cscsNo:["",[p.t.required]]}),this.aRoute.paramMap.pipe(Object(s.a)(e=>(this.assetId=e.get("id"),this.apiService.get(`/api/v1/reservations/fetch/${e.get("txnId")}`)))).subscribe(e=>{this.txn=e.data})}populateExpression(e){console.log(e),this.myForm.patchValue({cscsNo:null==e?void 0:e.cscsNo})}onSubmit(){if(this.submitting=!0,this.myForm.invalid)return this.uiErrors=JSON.parse(JSON.stringify(this.formErrors)),this.errors=this.commonServices.findInvalidControlsRecursive(this.myForm),console.log(this.errors),void Object.keys(this.errors).forEach(e=>{Object.keys(this.errors[e]).forEach(t=>{this.uiErrors[e]=N[e][t]})});console.log(this.myForm.value);const e=JSON.parse(JSON.stringify(this.myForm.value));e.cscsNo=e.cscsNo.toString(),this.apiService.post("/api/v1/verifications/cscs",e).pipe(Object(s.a)(e=>{var t;h.a.fire({title:e.message,icon:"success",text:"Redirecting...Please wait",confirmButtonText:"Ok",allowOutsideClick:!1,allowEscapeKey:!1}),console.log(e);const r={gateway:k.a.gateway,reservationId:this.assetId,currency:null===(t=this.txn.asset)||void 0===t?void 0:t.currency};return Object(P.a)([this.apiService.get("/api/v1/customers/profile/fetch"),this.apiService.post("/api/v1/reservations/make-payment",r)])})).subscribe(([e,t])=>{this.appService.userInformation=e.data,this.document.location.href=t.data.authorization_url},e=>{var t,r;this.submitting=!1,h.a.fire("Oops...",null===(r=null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.error)||void 0===r?void 0:r.message,"error")})}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(p.e),o.Ob(n.a),o.Ob(n.c),o.Ob(c.a),o.Ob(a.a),o.Ob(g.a),o.Ob(i.e))},e.\u0275cmp=o.Ib({type:e,selectors:[["in-cscs-verify"]],decls:28,vars:9,consts:[[1,"container-fluid","p-4"],[1,"row"],[1,"col-12"],[1,"text-dark","text-decoration-none",3,"routerLink"],[1,"page-title"],[1,"col-md-6"],[1,"card",2,"min-height","316px"],[1,"card-body"],["color","accent",3,"diameter",4,"ngIf"],[1,"card-title","mb-3"],[1,"card-sub-title","mb-3"],[3,"formGroup","ngSubmit"],[1,"row","border-bottom","py-3"],[1,"form-group","col-md-12","inl-form-input"],["formControlName","cscsNo","type","number","placeholder","CSCS Number",1,"form-control"],[4,"ngIf"],[1,"form-group","border-bottom","py-3"],["type","submit",1,"btn","btn-danger","w-100","text-white"],[3,"diameter",4,"ngIf"],["color","accent",3,"diameter"],[3,"diameter"]],template:function(e,t){1&e&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"div",2),o.Ub(3,"a",3),o.Fc(4,"< Back"),o.Tb(),o.Ub(5,"div",4),o.Ub(6,"h1"),o.Fc(7,"Shares"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"div",1),o.Ub(9,"div",5),o.Ub(10,"div",6),o.Ub(11,"div",7),o.Dc(12,M,1,1,"mat-spinner",8),o.gc(13,"async"),o.Ub(14,"h3",9),o.Fc(15,"Enter CSCS Number"),o.Tb(),o.Ub(16,"h3",10),o.Fc(17,"Please enter your CSCS Number to continue"),o.Tb(),o.Ub(18,"form",11),o.bc("ngSubmit",function(){return t.onSubmit()}),o.Ub(19,"div",12),o.Ub(20,"div",2),o.Ub(21,"div",13),o.Pb(22,"input",14),o.Dc(23,D,2,1,"span",15),o.Tb(),o.Tb(),o.Tb(),o.Ub(24,"div",16),o.Ub(25,"button",17),o.Dc(26,q,2,0,"span",15),o.Dc(27,G,1,1,"mat-spinner",18),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.Cb(3),o.lc("routerLink",o.oc(8,j)),o.Cb(9),o.lc("ngIf",o.hc(13,6,t.commonServices.isLoading$)),o.Cb(6),o.lc("formGroup",t.myForm),o.Cb(5),o.lc("ngIf",t.uiErrors.cscsNo),o.Cb(3),o.lc("ngIf",!t.submitting),o.Cb(1),o.lc("ngIf",t.submitting))},directives:[n.e,i.n,p.u,p.o,p.h,p.c,p.r,p.n,p.f,b.b],pipes:[i.b],styles:[""]}),e})();const B={fullName:{required:"Full Name is required"},MaidenName:{required:"Mother's Maiden Name is required"},City:{required:"City is required"},Country:{required:"Country is required"},Citizen:{required:"Nationality is required"},PostalCode:{required:"Postal Code is required"}};let R={fullName:"",MaidenName:"",City:"",Country:"",Citizen:"",PostalCode:""};function $(e,t){1&e&&o.Pb(0,"mat-spinner")}function J(e,t){if(1&e&&(o.Ub(0,"span"),o.Fc(1),o.Tb()),2&e){const e=o.fc(2);o.Cb(1),o.Gc(e.uiErrors.fullName)}}function z(e,t){1&e&&(o.Ub(0,"label",29),o.Fc(1,"Mother's Maiden Name"),o.Tb())}function A(e,t){if(1&e&&(o.Ub(0,"span"),o.Fc(1),o.Tb()),2&e){const e=o.fc(2);o.Cb(1),o.Gc(e.uiErrors.MaidenName)}}function V(e,t){1&e&&(o.Ub(0,"label",30),o.Fc(1,"City"),o.Tb())}function H(e,t){if(1&e&&(o.Ub(0,"span"),o.Fc(1),o.Tb()),2&e){const e=o.fc(2);o.Cb(1),o.Gc(e.uiErrors.City)}}function _(e,t){1&e&&(o.Ub(0,"label",31),o.Fc(1,"Country"),o.Tb())}function X(e,t){if(1&e&&(o.Ub(0,"span"),o.Fc(1),o.Tb()),2&e){const e=o.fc(2);o.Cb(1),o.Gc(e.uiErrors.Country)}}function Y(e,t){1&e&&(o.Ub(0,"label",32),o.Fc(1,"Nationality"),o.Tb())}function Z(e,t){if(1&e&&(o.Ub(0,"span"),o.Fc(1),o.Tb()),2&e){const e=o.fc(2);o.Cb(1),o.Gc(e.uiErrors.Citizen)}}function K(e,t){1&e&&(o.Ub(0,"label",33),o.Fc(1,"Postal Code"),o.Tb())}function W(e,t){if(1&e&&(o.Ub(0,"span"),o.Fc(1),o.Tb()),2&e){const e=o.fc(2);o.Cb(1),o.Gc(e.uiErrors.PostalCode)}}function Q(e,t){1&e&&(o.Ub(0,"span"),o.Fc(1,"Next >>"),o.Tb())}function ee(e,t){1&e&&o.Pb(0,"mat-spinner",34),2&e&&o.lc("diameter",30)}function te(e,t){if(1&e){const e=o.Vb();o.Ub(0,"form",12),o.bc("ngSubmit",function(){return o.wc(e),o.fc().onSubmit()}),o.Ub(1,"div",1),o.Ub(2,"div",2),o.Ub(3,"div",13),o.Ub(4,"label"),o.Fc(5,"Full Name"),o.Tb(),o.Pb(6,"input",14),o.Dc(7,J,2,1,"span",10),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"div",1),o.Ub(9,"div",2),o.Ub(10,"div",13),o.Dc(11,z,2,0,"label",15),o.Ub(12,"input",16),o.bc("keyup",function(){return o.wc(e),o.fc().controlChanged("MaidenName")}),o.Tb(),o.Dc(13,A,2,1,"span",10),o.Tb(),o.Tb(),o.Tb(),o.Ub(14,"div",1),o.Ub(15,"div",17),o.Ub(16,"div",13),o.Dc(17,V,2,0,"label",18),o.Ub(18,"input",19),o.bc("keyup",function(){return o.wc(e),o.fc().controlChanged("City")}),o.Tb(),o.Dc(19,H,2,1,"span",10),o.Tb(),o.Tb(),o.Ub(20,"div",17),o.Ub(21,"div",13),o.Dc(22,_,2,0,"label",20),o.Pb(23,"input",21),o.Dc(24,X,2,1,"span",10),o.Tb(),o.Tb(),o.Tb(),o.Ub(25,"div",1),o.Ub(26,"div",17),o.Ub(27,"div",13),o.Dc(28,Y,2,0,"label",22),o.Pb(29,"input",23),o.Dc(30,Z,2,1,"span",10),o.Tb(),o.Tb(),o.Ub(31,"div",17),o.Ub(32,"div",13),o.Dc(33,K,2,0,"label",24),o.Ub(34,"input",25),o.bc("keyup",function(){return o.wc(e),o.fc().controlChanged("PostalCode")}),o.Tb(),o.Dc(35,W,2,1,"span",10),o.Tb(),o.Tb(),o.Tb(),o.Ub(36,"div",26),o.Ub(37,"button",27),o.Dc(38,Q,2,0,"span",10),o.Dc(39,ee,1,1,"mat-spinner",28),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=o.fc();o.lc("formGroup",e.myForm),o.Cb(7),o.lc("ngIf",e.uiErrors.fullName),o.Cb(4),o.lc("ngIf",e.myForm.get("MaidenName").value),o.Cb(2),o.lc("ngIf",e.uiErrors.MaidenName),o.Cb(4),o.lc("ngIf",e.myForm.get("City").value),o.Cb(2),o.lc("ngIf",e.uiErrors.City),o.Cb(3),o.lc("ngIf",e.myForm.get("Country").value),o.Cb(2),o.lc("ngIf",e.uiErrors.Country),o.Cb(4),o.lc("ngIf",e.myForm.get("Citizen").value),o.Cb(2),o.lc("ngIf",e.uiErrors.Citizen),o.Cb(3),o.lc("ngIf",e.myForm.get("PostalCode").value),o.Cb(2),o.lc("ngIf",e.uiErrors.PostalCode),o.Cb(3),o.lc("ngIf",!e.submitting),o.Cb(1),o.lc("ngIf",e.submitting)}}const re=function(){return["/dashboard/index"]};let ie=(()=>{class e{constructor(e,t,r,i,n,s,o){this.fb=e,this.aRoute=t,this.router=r,this.apiService=i,this.commonServices=n,this.appService=s,this.document=o,this.errors=[],this.formErrors=R,this.uiErrors=R,this.validationMessages=B,this.submitting=!1,this.total=0}ngOnInit(){this.myForm=this.fb.group({fullName:[{value:"",disabled:!0},[p.t.required]],MaidenName:["",[p.t.required]],City:["",[p.t.required]],Country:["",[p.t.required]],Citizen:["",[p.t.required]],PostalCode:["",[p.t.required]]}),this.aRoute.paramMap.pipe(Object(s.a)(e=>(this.txnId=e.get("id"),this.isGetFormDetail=!0,this.apiService.get("/api/v1/customers/profile/fetch")))).subscribe(e=>{this.isGetFormDetail=!1;const t=e.data;this.appService.userInformation=t,this.myForm.patchValue({fullName:t.firstName+" "+t.lastName}),t.bankCode||h.a.fire({title:"Update Bank Details",text:"Your bank information is needed to proceed",confirmButtonText:"Update",allowOutsideClick:!1}).then(e=>{e.isConfirmed&&(localStorage.setItem("creating-cscs",this.txnId),this.router.navigateByUrl("/dashboard/user/banks"))})})}controlChanged(e){this.errors=this.commonServices.controlnvalid(this.myForm.get(e)),this.displayErrors()}onSubmit(){if(this.submitting=!0,this.myForm.invalid)return this.uiErrors=JSON.parse(JSON.stringify(this.formErrors)),this.errors=this.commonServices.findInvalidControlsRecursive(this.myForm),void this.displayErrors();const e=JSON.parse(JSON.stringify(this.myForm.value));this.apiService.post("/api/v1/customers/create-cscs",e).pipe(Object(s.a)(e=>(console.log(e),this.apiService.post("/api/v1/reservations/make-payment",{gateway:k.a.gateway,reservationId:this.txnId})))).subscribe(e=>{this.document.location.href=e.data.authorization_url},e=>{var t,r;this.submitting=!1,h.a.fire("Oops...",null===(r=null===(t=null==e?void 0:e.error)||void 0===t?void 0:t.error)||void 0===r?void 0:r.message,"error")})}displayErrors(){Object.keys(this.formErrors).forEach(e=>{this.formErrors[e]=""}),Object.keys(this.errors).forEach(e=>{Object.keys(this.errors[e]).forEach(t=>{this.uiErrors[e]=B[e][t]})})}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(p.e),o.Ob(n.a),o.Ob(n.c),o.Ob(c.a),o.Ob(a.a),o.Ob(g.a),o.Ob(i.e))},e.\u0275cmp=o.Ib({type:e,selectors:[["in-cscs-create"]],decls:18,vars:4,consts:[[1,"container-fluid","p-4"],[1,"row"],[1,"col-12"],[1,"text-dark","text-decoration-none",3,"routerLink"],[1,"page-title"],[1,"card-sub-title"],[1,"col-md-8"],[1,"card",2,"min-height","316px"],[1,"card-body"],[1,"card-sub-title","mb-3"],[4,"ngIf"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group","inl-form-input"],["formControlName","fullName","type","text","placeholder","Full Name",1,"form-control"],["for","MaidenName",4,"ngIf"],["id","MaidenName","formControlName","MaidenName","type","text","placeholder","Mother's Maiden Name",1,"form-control",3,"keyup"],[1,"col-6"],["for","City",4,"ngIf"],["id","City","formControlName","City","type","text","placeholder","City",1,"form-control",3,"keyup"],["for","Country",4,"ngIf"],["id","Country","formControlName","Country","type","text","placeholder","Country",1,"form-control"],["for","Citizen",4,"ngIf"],["id","Citizen","formControlName","Citizen","type","text","placeholder","Nationality",1,"form-control"],["for","PostalCode",4,"ngIf"],["id","PostalCode","formControlName","PostalCode","type","text","placeholder","Postal Code",1,"form-control",3,"keyup"],[1,"form-group","border-bottom","py-3"],["type","submit",1,"btn","btn-danger","w-50","text-white","pull-right"],[3,"diameter",4,"ngIf"],["for","MaidenName"],["for","City"],["for","Country"],["for","Citizen"],["for","PostalCode"],[3,"diameter"]],template:function(e,t){1&e&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"div",2),o.Ub(3,"a",3),o.Fc(4,"< Back"),o.Tb(),o.Ub(5,"div",4),o.Ub(6,"h1"),o.Fc(7,"Shares"),o.Tb(),o.Tb(),o.Ub(8,"h3",5),o.Fc(9,"Please complete the form below to create a CSCS Account"),o.Tb(),o.Tb(),o.Tb(),o.Ub(10,"div",1),o.Ub(11,"div",6),o.Ub(12,"div",7),o.Ub(13,"div",8),o.Ub(14,"h3",9),o.Fc(15,"Personal Details"),o.Tb(),o.Dc(16,$,1,0,"mat-spinner",10),o.Dc(17,te,40,14,"form",11),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.Cb(3),o.lc("routerLink",o.oc(3,re)),o.Cb(13),o.lc("ngIf",t.isGetFormDetail),o.Cb(1),o.lc("ngIf",!t.isGetFormDetail))},directives:[n.e,i.n,b.b,p.u,p.o,p.h,p.c,p.n,p.f],styles:[""]}),e})();var ne=r("2Vo4"),se=r("LRne"),oe=r("JIr8");function ce(e,t){1&e&&(o.Ub(0,"div",11),o.Pb(1,"mat-spinner",12),o.Tb()),2&e&&(o.Cb(1),o.lc("diameter",30))}function ae(e,t){if(1&e){const e=o.Vb();o.Ub(0,"div",13),o.bc("click",function(){o.wc(e);const r=t.$implicit;return o.fc().onClickShares(r)}),o.Ub(1,"div",7),o.Pb(2,"img",14),o.Ub(3,"p",15),o.Fc(4),o.Tb(),o.Ub(5,"p",16),o.Fc(6),o.gc(7,"currency"),o.Tb(),o.Ub(8,"div",17),o.ec(),o.Ub(9,"svg",18),o.Pb(10,"path",19),o.Tb(),o.dc(),o.Ub(11,"p",20),o.Fc(12,"+0.00"),o.Ub(13,"span",21),o.Fc(14,"(0.00%)"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()}if(2&e){const e=t.$implicit;o.Cb(2),o.mc("alt",e.name),o.lc("src",null==e?null:e.image,o.yc),o.Cb(2),o.Gc(e.name),o.Cb(2),o.Gc(o.ic(7,4,e.sharePrice,e.currency,"symbol-narrow"))}}const be=function(){return["/dashboard/index"]},le=[{path:"",component:(()=>{class e{constructor(e,t){this.api=e,this.router=t,this.loadingSubject=new ne.a(!0),this.isLoading$=this.loadingSubject.asObservable()}ngOnInit(){this.fetchShares().pipe(Object(oe.a)(()=>Object(se.a)([]))).subscribe(e=>{this.loadingSubject.next(!1),this.shares=e.data.filter(e=>e.currency.includes("USD"))})}onClickShares(e){this.router.navigate(["dashboard","shares","details",e.id])}fetchShares(){return this.api.get("/api/v1/assets")}}return e.\u0275fac=function(t){return new(t||e)(o.Ob(c.a),o.Ob(n.c))},e.\u0275cmp=o.Ib({type:e,selectors:[["in-shares"]],decls:16,vars:6,consts:[[1,"container-fluid","p-4"],[1,"row"],[1,"col-12"],[1,"text-dark","text-decoration-none",3,"routerLink"],[1,"page-title"],[1,"col-md-12"],[1,"card"],[1,"card-body"],["class","mat-spinner-container",4,"ngIf"],[1,"nigerian-shares-card-group","mt-3"],["class","card nigerian-shares-card",3,"click",4,"ngFor","ngForOf"],[1,"mat-spinner-container"],["color","accent",3,"diameter"],[1,"card","nigerian-shares-card",3,"click"],[2,"height","60px",3,"src","alt"],[1,"shares-name","mt-2","mb-0"],[1,"shares-value","m-0"],[1,"shares-flow"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",1,"d-inline"],["d","M16.2102 16H7.79019C7.45778 16.0005 7.13203 15.9068 6.85064 15.7299C6.56925 15.5529 6.34373 15.2998 6.20019 15C6.03216 14.6443 5.96744 14.2485 6.01341 13.8577C6.05938 13.467 6.21419 13.097 6.46019 12.79L10.6702 7.69001C10.8354 7.49938 11.0397 7.34649 11.2691 7.24171C11.4986 7.13693 11.7479 7.0827 12.0002 7.0827C12.2525 7.0827 12.5018 7.13693 12.7312 7.24171C12.9607 7.34649 13.165 7.49938 13.3302 7.69001L17.5402 12.79C17.7862 13.097 17.941 13.467 17.987 13.8577C18.0329 14.2485 17.9682 14.6443 17.8002 15C17.6566 15.2998 17.4311 15.5529 17.1497 15.7299C16.8684 15.9068 16.5426 16.0005 16.2102 16Z","fill","#00BA88"],[1,"ml-2","d-inline"],[1,"d-inline"]],template:function(e,t){1&e&&(o.Ub(0,"div",0),o.Ub(1,"div",1),o.Ub(2,"div",2),o.Ub(3,"a",3),o.Fc(4,"< Back"),o.Tb(),o.Ub(5,"div",4),o.Ub(6,"h1"),o.Fc(7,"CHDM Mutual Funds"),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Ub(8,"div",1),o.Ub(9,"div",5),o.Ub(10,"div",6),o.Ub(11,"div",7),o.Dc(12,ce,2,1,"div",8),o.gc(13,"async"),o.Ub(14,"div",9),o.Dc(15,ae,15,8,"div",10),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb(),o.Tb()),2&e&&(o.Cb(3),o.lc("routerLink",o.oc(5,be)),o.Cb(9),o.lc("ngIf",o.hc(13,3,t.isLoading$)),o.Cb(3),o.lc("ngForOf",t.shares))},directives:[n.e,i.n,i.m,b.b],pipes:[i.b,i.d],styles:[".nigerian-shares-card-group[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap}.nigerian-shares-card-group[_ngcontent-%COMP%]   .nigerian-shares-card[_ngcontent-%COMP%]{width:180px;background:#fff;border:2px solid #f2f2f2;box-shadow:0 4px 15px rgba(120,121,121,.06);border-radius:8px;margin:10px;cursor:pointer;text-align:center}"]}),e})()},{path:"details/:id/expression-of-interest",component:w},{path:"details/:id/verify-cscs-number",component:L},{path:"details/:id",component:d},{path:":id/create-new-cscs",component:ie}];let ue=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({imports:[[n.f.forChild(le)],n.f]}),e})();var de=r("ZOsW"),me=r("wZkO"),he=r("bTqV"),pe=r("NFeN"),fe=r("Wp6s"),ve=r("STbY"),ge=r("f0Cb"),ye=r("MutI"),Ue=r("+0xr"),Te=r("M9IT"),Ce=r("i2L+");let Fe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.Mb({type:e}),e.\u0275inj=o.Lb({imports:[[i.c,ue,Ce.a,de.b,b.a,me.d,he.b,pe.b,fe.a,ve.c,ge.a,ye.a,Ue.l,Te.b]]}),e})()}}]);